<!DOCTYPE html>
<html lang="en" xmlns:th="http://www.thymeleaf.org" xmlns="http://www.w3.org/1999/xhtml">
<head>

    <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
    <meta charset="UTF-8">

    <!--css bootstrap-->
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@4.5.3/dist/css/bootstrap.min.css"
          integrity="sha384-TX8t27EcRE3e/ihU7zmQxVncDAy5uIKz4rEkgIXeMed4M0jlfIDPvg6uqKI2xXr2" crossorigin="anonymous">

    <!--bundle bootstrap-->
    <script src="https://code.jquery.com/jquery-3.5.1.slim.min.js"
            integrity="sha384-DfXdz2htPH0lsSSs5nCTpuj/zy4C+OGpamoFVy38MVBnE+IbbVYUew+OrCXaRkfj"
            crossorigin="anonymous"></script>
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@4.5.3/dist/js/bootstrap.bundle.min.js"
            integrity="sha384-ho+j7jyWK8fNQe+A12Hb8AhRq26LrZ/JpcUGGOn+Y7RsweNrtN/tE3MoK7ZeZDyx"
            crossorigin="anonymous"></script>

    <!--separate bootstrap-->
    <script src="https://code.jquery.com/jquery-3.5.1.slim.min.js"
            integrity="sha384-DfXdz2htPH0lsSSs5nCTpuj/zy4C+OGpamoFVy38MVBnE+IbbVYUew+OrCXaRkfj"
            crossorigin="anonymous"></script>
    <script src="https://cdn.jsdelivr.net/npm/popper.js@1.16.1/dist/umd/popper.min.js"
            integrity="sha384-9/reFTGAW83EW2RDu2S0VKaIzap3H66lZH81PoYlFhbGU+6BZp6G7niu735Sk7lN"
            crossorigin="anonymous"></script>
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@4.5.3/dist/js/bootstrap.min.js"
            integrity="sha384-w1Q4orYjBQndcko6MimVbzY0tgp4pWB4lZ7lr30WKz0vr/aWKhXdBNmNb5D92v7s"
            crossorigin="anonymous"></script>
    <title>InventoryManagement</title>
</head>
<body>

<nav class="navbar navbar-dark bg-dark">
    <ul class="nav nav-pills">
        <li class="nav-item">
            <a class="nav-link" href="#"><h2 class="text-light bg-dark" style="font-size: 20px">Abarrotes viviana</h2>
            </a>
        </li>
    </ul>
    <a th:href="@{'/index'}" align="right"><h2 class="text-muted" style="font-size: 18px">Salir</h2></a>
</nav>

<!-- form struct -->
<ul class="nav nav-tabs" id="myTab" role="tablist">
    <li class="nav-item" role="presentation">
        <a class="nav-link active" id="profile-tab" data-toggle="tab" href="#profile" role="tab"
           aria-controls="profile" aria-selected="true">Perfil de administrador</a>
    </li>
    <li class="nav-item" role="presentation">
        <a class="nav-link" id="product-tab" data-toggle="tab" href="#addProduct" role="tab"
           aria-controls="addProduct" aria-selected="false">Agregar producto</a>
    </li>
    <li class="nav-item" role="presentation">
        <a class="nav-link" id="category-tab" data-toggle="tab" href="#addCategory" role="tab"
           aria-controls="addCategory" aria-selected="false">Agregar categoria</a>
    </li>
    <li class="nav-item" role="presentation">
        <a class="nav-link" id="supplier-tab" data-toggle="tab" href="#addSupplier" role="tab"
           aria-controls="addSupplier" aria-selected="false">Agregar proveedor</a>
    </li>
</ul>

<!--content form-->
<div class="tab-content" id="myTabContent">

    <!--profile-->
    <div class="tab-pane fade show active" id="profile" role="tabpanel" aria-labelledby="profile-tab"
         th:object="${administrator}">

        <!--        card del perfil de administrador-->
        <div class="d-inline-flex">

            <div class="card" style="max-width: 18rem">
                <img src="/static/img/admin.png"
                     th:src="@{/img/admin.png}" th:alt="logoUser" class="card-img-top">
                <div class="card-body">
                    <h5 class="card-title">Bienvenido
                        <span th:text="*{name}"> </span>
                        <span th:text="*{lastName}"> </span>
                        <span th:text="*{motherLastName}"></span>
                    </h5>
                    <p class="card-subtitle">ID</p>
                    <p class="card-text" th:text="*{id}"></p>
                    <p class="card-subtitle">Nombre de usuario</p>
                    <p class="card-text" th:text="*{userName}"></p>
                    <p class="card-subtitle">Correo</p>
                    <p class="card-text" th:text="*{EMail}"></p>
                    <p class="card-subtitle">Telefono</p>
                    <p class="card-text" th:text="*{cellPhone}"></p>

                </div>
            </div>

            <!--        grafica ToDo-->
            <script src="https://code.highcharts.com/highcharts.js"></script>
            <script src="https://code.highcharts.com/modules/data.js"></script>
            <script src="https://code.highcharts.com/modules/exporting.js"></script>
            <script src="https://code.highcharts.com/modules/export-data.js"></script>
            <script src="https://code.highcharts.com/modules/accessibility.js"></script>

            <figure class="highcharts-figure">
                <div id="containerJSGraph"></div>
                <p class="highcharts-description">
                    Analise el trabajo de cada administrador en su sistema gestor de inventario!
                    con ToDo Graph puede ver cada registro realizado por los administradores que tienen
                    acceso a este sistema.
                </p>
                <div class="btn-group" role="group" aria-label="Basic example">
                    <a th:href="@{'/management/stock'}" class="btn btn-primary">Stock Viewer</a>
                    <a th:href="@{'/management/categories'}" class="btn btn-primary">Categorias</a>
                    <a th:href="@{'/management/suppliers'}" class="btn btn-primary">Proveedores</a>
                </div>
            </figure>

        </div>

        <script th:inline="javascript">

            $(function () {

                var pieColors = (function () {
                    var colors = [],
                        base = Highcharts.getOptions().colors[0],
                        i;

                    for (i = 0; i < 10; i += 1) {
                        // Start out with a darkened base color (negative brighten), and end
                        // up with a much brighter color
                        colors.push(Highcharts.color(base).brighten((i - 3) / 7).get());
                    }
                    return colors;
                }());

                Highcharts.chart('containerJSGraph', {
                    chart: {
                        plotBackgroundColor: null,
                        plotBorderWidth: null,
                        plotShadow: false,
                        type: 'pie'
                    },
                    title: {
                        text: 'Browser market shares at a specific website, 2014'
                    },
                    tooltip: {
                        pointFormat: '{series.name}: <b>{point.percentage:.1f}%</b>'
                    },
                    accessibility: {
                        point: {
                            valueSuffix: '%'
                        }
                    },
                    plotOptions: {
                        pie: {
                            allowPointSelect: true,
                            cursor: 'pointer',
                            colors: pieColors,
                            dataLabels: {
                                enabled: true,
                                format: '<b>{point.name}</b><br>{point.percentage:.1f} %',
                                distance: -50,
                                filter: {
                                    property: 'percentage',
                                    operator: '>',
                                    value: 4
                                }
                            }
                        }
                    },
                    series: [{
                        name: 'Share',
                        data: [
                            { name: 'Chrome', y: 61.41 },
                            { name: 'Internet Explorer', y: 11.84 },
                            { name: 'Firefox', y: 10.85 },
                            { name: 'Edge', y: 4.67 },
                            { name: 'Safari', y: 4.18 },
                            { name: 'Other', y: 7.05 }
                        ]
                    }]
                });

            })
        </script>

    </div>

    <!--product form-->
    <div class="tab-pane fade" id="addProduct" role="tabpanel" aria-labelledby="product-tab">
        <form th:action="@{'/auth/save/product'}" th:object="${product}" method="post">
            <!--id-->
            <div class="form-group">
                <label for="idProduct">ID Producto</label>
                <input th:field="*{idProduct}" type="number" class="form-control" id="idProduct"
                       required="required" disabled="disabled">
            </div>
            <!--category-->
            <div class="input-group mb-3">
                <div class="input-group-append">
                    <label class="custom-select" for="inputGroupSelect01">Categoria</label>
                </div>
                <select th:field="*{category}" class="custom-select" id="inputGroupSelect01" required="required">
                    <option selected value=""></option>
                    <div th:each="categoryItem : ${categories}">
                        <option th:value="${categoryItem.idCategory}"
                                th:text="${categoryItem.getNameCategory()}"></option>
                    </div>
                </select>
            </div>

            <!--name-->
            <div class="form-group">
                <label for="name">Nombre del producto</label>
                <input th:field="*{name}" type="text" class="form-control" id="name" required="required"
                       placeholder="Ingrese el nombre de su producto">
            </div>

            <!--price-->
            <div class="form-group">
                <label for="price">Precio</label>
                <div class="input-group mb-3">
                    <div class="input-group-prepend">
                        <span class="input-group-text">$</span>
                    </div>
                    <input th:field="*{price}" type="text" class="form-control"
                           aria-label="Amount (to the nearest dollar)" id="price" required="required">
                    <div class="input-group-append">
                        <span class="input-group-text">.00</span>
                    </div>
                </div>
            </div>

            <!--amount-->
            <div class="form-group">
                <label for="amount">Existencia</label>
                <input th:field="*{amount}" type="number" id="amount" class="form-control" required="required">
            </div>

            <!--supplier-->
            <div class="input-group mb-3">
                <div class="input-group-append">
                    <label class="custom-select" for="inputGroupSelect02">Proveedor</label>
                </div>
                <select th:field="*{supplier}" class="custom-select" id="inputGroupSelect02" required="required">
                    <option selected value=""></option>
                    <div th:each="supplierItem : ${suppliers}">
                        <option th:value="${supplierItem.idSupplier}"
                                th:text="${supplierItem.getNameSupplier()}"></option>
                    </div>
                </select>
            </div>

            <button type="submit" class="btn btn-success">Agregar producto</button>
        </form>
    </div>

    <!--category form-->
    <div class="tab-pane fade" id="addCategory" role="tabpanel" aria-labelledby="category-tab">
        <form th:action="@{'/auth/save/category'}" th:object="${category}" method="post">
            <!--idCategory-->
            <div class="form-group">
                <label for="idCategory">ID Categoria</label>
                <input th:field="*{idCategory}" type="number" class="form-control" id="idCategory" required="required"
                       disabled="disabled">
            </div>

            <!--nameCategory-->
            <div class="form-group">
                <label for="nameCategory">Nombre de Categoria</label>
                <input th:field="*{nameCategory}" type="text" class="form-control" id="nameCategory" required="required"
                       placeholder="Ingresa nombre de categoria">
            </div>

            <button class="btn btn-success">Agregar categoria</button>
        </form>
    </div>

    <!--supplier form-->
    <div class="tab-pane fade" id="addSupplier" role="tabpanel" aria-labelledby="supplier-tab">
        <form th:action="@{'/auth/save/supplier'}" th:object="${supplier}" method="post">
            <!--idSupplier-->
            <div class="form-group">
                <label for="idSupplier">ID Proveedor</label>
                <input th:field="*{idSupplier}" type="number" class="form-control" id="idSupplier" required="required"
                       disabled="disabled">
            </div>

            <!--name supplier-->
            <div class="form-group">
                <label for="nameSupplier">Nombre del proveedor</label>
                <input th:field="*{nameSupplier}" type="text" class="form-control" id="nameSupplier" required="required"
                       placeholder="ingresa nombre del proveedor">
            </div>

            <button class="btn btn-success">Agregar proveedor</button>
        </form>
    </div>
</div>

</body>
</html>